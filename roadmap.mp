# nonkyc bot Roadmap

## Now
- [x] Initialize repository scaffold with core packages, CLI, and tests.
- [x] Add standard grid strategy placeholder.
- [x] Implement infinity grid helper module with deterministic refresh logic.
- [x] Implement rebalance helper module for target ratio adjustments.
- [x] Implement triangular arbitrage helper module for cycle scanning.
- [x] Implement profit reinvest helper module for reserve allocation.
- [x] Add CLI start command with strategy config parsing and multi-instance support.
- [x] Add deterministic REST/WS, order manager, and strategy tests.
- [x] Document 401 Unauthorized troubleshooting and API auth guidance.
- [x] Clarify 401 guidance for private endpoint permission checks.
- [x] Add remediation step for regenerating API credentials when 401 persists.
- [x] Thread userProvidedId/strictValidate order payload support through bots and tests.
- [x] Pass optional userProvidedId/strictValidate through triangular arbitrage bot orders.
- [x] Expose signed JSON payloads in debug auth output for REST signing checks.
- [x] Use RestRequest for cancel-all orders in all bot runners.
- [x] Align cancel-order payload with NonKYC docs and support userProvidedId.
- [x] Use documented limit field for order book subscriptions.
- [x] Re-enable balances subscription for account updates in WS client.
- [x] Align REST signing defaults with NonKYC nonce precision and payload ordering.
- [x] Align NonKYC nonce multiplier defaults with Hummingbot reference signing.
- [x] Honor absolute URL signing configuration in REST client.
- [x] Standardize cancel-all orders handling with response validation and symbol formatting.
- [x] Auto-refresh bot orders at most every 30 minutes.
- [x] Add missing resolve_quantity_rounding import for MMX grid runner.
- [x] Verify resolve_quantity_rounding import/reference in MMX grid runner.
- [x] Restore known-good REST signer defaults and add createorder signature coverage.
- [x] Assert createorder signing uses the exact JSON request payload.
- [x] Stop grid cycles on cancel-all auth failures to avoid cascading order errors.
- [x] Default cancel-all symbol format to dash and log resolved cancel symbols.
- [x] Retry cancel-all with alternate symbol formats when required input is missing.
- [x] Allow cancel-all requests without a symbol and verify request body handling in tests.
- [x] Align cancel-all REST/bot schema with slash symbols and side-aware payloads.
- [x] Treat cancel-side "all" as omit-side for cancel-all payloads.
- [x] Retry cancel-all across all symbol formats before giving up.
- [x] Retry cancel-all without a symbol when required input errors persist.
- [x] Add ExchangeClient interface and NonKYC REST adapter.
- [x] Implement fill-driven ladder grid strategy with add-only reconciliation.
- [x] Add v1 cancel-all signing support and ladder grid tests.
- [x] Attempt v1 cancel-all in MMX grid before v2 fallback when canceling orders.
- [x] Normalize ladder grid configs to accept legacy MMX grid fields and add startup log.
- [x] Refresh ladder grid balances before seeding and halt cycles on insufficient funds errors.
- [x] Skip ladder grid updates on transient order fetch errors.
- [x] Support ladder REST timeout/retry config and test transient REST retry behavior.
- [x] Retry REST and async REST calls on network timeouts.
- [x] Retry REST calls on remote disconnects with coverage.
- [x] Add ladder grid startup rebalance with market/limit fallback and tests.
- [x] Halt ladder seeding on startup rebalance failures and surface manual guidance.
- [x] Validate ladder grid spacing against total fee rate and document configuration.
- [x] Add ladder grid fee-rate spacing validation coverage for profitable vs. unprofitable steps.
- [x] Add ladder grid fetch backoff for transient order status timeouts.
- [x] Update the triangular arbitrage default triangle to USDT/ETH/BTC and refresh config docs.
- [x] Remove manual arbitrage prompt in arb runner and add execution-path test coverage.
- [x] Guard arbitrage price parsing against invalid ticker values with test coverage.
- [x] Enforce market-only triangular arbitrage execution, fixed fee rate, and remove cancel-all usage.
- [x] Remove residual external framework references from docs and roadmap.

- [x] Implement WebSocket streaming client with reconnect, login, and handlers.
- [x] Add async REST client for scalable trading workflows.
- [x] Expand ticker parsing to handle alternate last-price fields.
- [x] Fallback to bid/ask mid-price when ticker last price is absent.
- [x] Add lastPrice and bid/ask mid fallback parsing for arbitrage tickers.
- [x] Align hybrid arbitrage example/API base URL with v2 REST endpoints.
- [x] Implement keychain-backed credential loading and storage helpers.
- [x] Normalize infinity ladder grid order status handling for capitalized API values.
- [x] Sync infinity ladder startup state with exchange open orders.
- [x] Document infinity grid fill-monitoring cadence and troubleshooting guidance.
- [x] Ensure infinity ladder client IDs use UUIDs and add coverage.
- [x] Continue infinity ladder seeding when recoverable 400 order errors occur.
- [x] Document infinity grid implementation snapshot and rationale in the guide.
- [x] Backup infinity grid bot sources and align config validation with current fields.
- [x] Align auth tooling/docs with 14-digit nonce defaults across bots.
- [x] Move symbol format check script out of pytest collection and update docs.
- [x] Guard infinity ladder refill logs to reflect only successful placements.
- [x] Remove legacy infinity grid backup directory.
- [x] Recreate infinity grid backup snapshot with current runner and strategy sources.
- [x] Remove legacy infinity grid helper module references in favor of ladder strategy coverage.
- [x] Add adaptive capped martingale spot strategy with fee-aware exits, config, and tests.
- [x] Allow underscore-delimited symbols in configuration validation.
- [x] Align adaptive capped martingale example config with standard header/comment conventions.
- [x] Align orderbook snapshot requests to use ticker_id/depth params across REST fallbacks.
- [x] Fetch/handle minimum order quantity for adaptive capped martingale orders.
- [x] Treat 404 open-order endpoints as empty results for REST exchange adapters.
- [x] Drop not-found adaptive martingale orders so cycles reseed after manual cancels.
- [x] Start adaptive martingale cycles with market buys and limit follow-ups.
- [x] Apply base market fills immediately to prevent repeated market buys.
- [x] Log adaptive capped martingale TP/add levels after buy fills.
- [x] Cap adaptive capped martingale sell sizes to available balance before placing TP orders.
- [x] Align bot API interface defaults with Hummingbot reference constants.
- [x] Default REST/WS client URLs now derive from shared API constants.
- [x] Reorganize repository layout with dedicated bots, scripts, docs, and state directories.
- [x] Replace lint suppressions with lazy imports to keep bot/script runners lint-clean.
- [x] Allow infinity grid restarts to extend buy levels lower without cancelling orders.
- [x] Add buy/sell-specific sizing modes with dynamic sell sizing defaults for infinity grid.
- [x] Add optional profit store hooks with net profit tracking for grid/arb bots.
- [x] Document full config reference and per-bot state paths.
- [x] Add profit-store exit trigger for partial liquidation to target asset.
- [x] Handle profit-store exit liquidation in arb and hybrid bot loops.
- [x] Fix hybrid arb orderbook execution to invert buy prices and size quantities correctly.

## Next
- [ ] Define API client interfaces and error handling.
- [ ] Add strategy configuration schemas.

## Later
- [ ] Add exchange-specific adapters.
- [ ] Add backtesting harness.
