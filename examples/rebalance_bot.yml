# Portfolio Rebalance Bot Configuration
# Automatically maintains target portfolio allocation by rebalancing when drift exceeds threshold
#
# HOW TO USE:
# 1. Store your API credentials securely in the OS keychain (RECOMMENDED):
#    python scripts/nonkyc_store_credentials.py --api-key "your_key" --api-secret "your_secret"
#
#    The bot will automatically load credentials from the keychain.
#    DO NOT edit api_key/api_secret below - leave them commented out!
#
# 2. Run the bot:
#    python bots/run_rebalance_bot.py examples/rebalance_bot.yml
#
# WHAT THIS BOT DOES:
# - Monitors your portfolio allocation (e.g., 50% ETH, 50% USDT)
# - When allocation drifts beyond threshold, places rebalancing trades
# - Helps maintain desired risk exposure
# - Useful for long-term holders who want consistent allocation

# Exchange settings
base_url: "https://api.nonkyc.io/api/v2"

# API credentials - DO NOT EDIT! Use keychain storage instead (see above)
# api_key: "${NONKYC_API_KEY}"      # Loaded from keychain automatically
# api_secret: "${NONKYC_API_SECRET}" # Loaded from keychain automatically

# Bot mode: monitor, dry-run, or live
mode: "live"

# NOTE: NonKYC uses UNDERSCORE format, not hyphens or slashes!
# SINGLE-PAIR MODE (legacy):
# trading_pair: "ETH_USDT"
# target_base_percent: "0.5"           # Target 50% in ETH, 50% in USDT

# MULTI-ASSET MODE:
# - Define a common quote_asset.
# - Each asset (including quote) has a target_percent.
# - Each non-quote asset has a trading_pair quoted in quote_asset.
quote_asset: "USDT"
rebalance_assets:
  - asset: "BTC"
    target_percent: "0.22"
    trading_pair: "BTC_USDT"
  - asset: "PAXG"
    target_percent: "0.43"
    trading_pair: "PAXG_USDT"
  - asset: "USDT"
    target_percent: "0.35"

# Rebalance parameters
rebalance_threshold_percent: "0.08"  # Rebalance when drift > 2%

# Order configuration
rebalance_order_type: "market"        # Use limit orders
rebalance_order_spread: "0.002"      # 0.2% spread from mid price
min_notional_quote: "1.0"            # Minimum order size in quote currency (e.g., $1 USDT)

# Poll interval
poll_interval_seconds: 60            # Check every 60 seconds

# Price source
price_source: "mid"                  # mid, last, bid, or ask

# REST API settings
rest_timeout_sec: 30.0
rest_retries: 3

# Logging
log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR
