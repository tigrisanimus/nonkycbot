# Infinity Grid Bot Configuration
# Grid trading with no upper limit - continuously extends sell ladder as price rises
#
# HOW TO USE:
# 1. Store your API credentials securely in the OS keychain (RECOMMENDED):
#    python nonkyc_store_credentials.py --api-key "your_key" --api-secret "your_secret"
#
#    The bot will automatically load credentials from the keychain.
#    DO NOT edit api_key/api_secret below - leave them commented out!
#
# 2. Run the bot:
#    python run_infinity_grid.py examples/infinity_grid.yml
#
# WHAT THIS BOT DOES:
# - GRID STRATEGY: Places standing orders on the order book (like ladder grid)
# - Buy orders below current price (with lower limit)
# - Sell orders above current price (NO upper limit - extends infinitely!)
# - When sell order fills → places new sell order above highest (extends ladder)
# - When buy order fills → refills at that same level
# - Continuously profits from upward price movement without upper bound
# - Best for bull markets and long-term uptrends

# Exchange settings
base_url: "https://api.nonkyc.io"

# API credentials - DO NOT EDIT! Use keychain storage instead (see above)
# api_key: "${NONKYC_API_KEY}"      # Loaded from keychain automatically
# api_secret: "${NONKYC_API_SECRET}" # Loaded from keychain automatically

# Trading pair (NonKYC uses UNDERSCORE format, not slashes!)
symbol: "BTC_USDT"

# Grid configuration
step_mode: "pct"                 # "pct" for percentage or "abs" for absolute price
step_pct: "0.01"                 # 1% spacing between grid levels
# step_abs: "500"                # Alternative: absolute price spacing (if step_mode="abs")

n_buy_levels: 5                  # Number of buy orders below entry (lower limit)
initial_sell_levels: 5           # Initial sell orders above entry (more added as price rises!)
base_order_size: "0.0001"        # Amount of base asset (BTC) per order (~$9 at BTC=$90k)

# Minimum order size (exchange requirement)
min_notional_quote: "1.0"        # Minimum order value in quote currency

# Fee configuration
total_fee_rate: "0.002"          # 0.2% total fee (maker + taker)
fee_buffer_pct: "0.0001"         # Safety buffer for fees

# Market data precision (check NonKYC for your symbol)
tick_size: "0.01"                # Price precision (e.g., 0.01 = 2 decimals)
step_size: "0.00000001"          # Quantity precision (8 decimals for BTC)

# Polling settings
poll_interval_sec: 60            # Check for fills every 60 seconds
reconcile_interval_sec: 60       # Reconcile orders every 60 seconds
balance_refresh_sec: 60          # Refresh balance every 60 seconds
fetch_backoff_sec: 15            # Backoff on API errors

# Startup options
startup_cancel_all: false        # Cancel all existing orders on startup
startup_rebalance: false         # Auto-rebalance to 50/50 on startup (if one-sided)

# Rebalancing (if startup_rebalance=true)
rebalance_target_base_pct: "0.5"   # Target 50% base, 50% quote
rebalance_slippage_pct: "0.002"    # 0.2% slippage tolerance
rebalance_max_attempts: 2          # Max rebalance attempts

# REST API settings
rest_timeout_sec: 30.0
rest_retries: 3

# State persistence
state_path: "infinity_grid_state.json"  # Saves grid state between restarts
